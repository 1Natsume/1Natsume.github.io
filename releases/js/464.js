"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[464],{6464:(i,s,a)=>{a.r(s),a.d(s,{default:()=>g});var t=a(641),l=a(33),n=a(3751),u={id:"music_player"},c={class:"music-player-out-wrap"},o={class:"music-player-wrap"},e={class:"music-right-wrap"},d={class:"music-ope-wrap"},p=["title"],r={class:"music-ope-bar"};var y=a(7688),m=a(950),h=a(664),k=a(7049),f=a(7118);const P={name:"MusicPlayer",components:{PopList:y.A.PopList},created:function(){k.A.audio.ontimeupdate=this.musicUpdate,k.A.audio.onerror=this.musicError,k.A.audio.oncanplay=this.musicCanplay,k.A.audio.onended=this.musicEnded,h.A.loadMusicList(f.A.musicIds).then((function(i){k.A.playList=i})),m.A.registerUnClick("#music_player",(function(){k.A.showPlay=!1}))},data:function(){return{audio:k.A}},computed:{},methods:{musicList:function(){return this.audio.playList.map((function(i,s){return{key:i.title,key2:i.author,value:i,index:s}}))},musicEnded:function(i){m.A.showInfoMsg("播放结束,自动切换下一首"),this.musicPlayPos()},musicUpdate:function(i){this.audio.cssStyle.barWidth=(k.A.audio.currentTime/k.A.audio.duration*k.A.cssStyle.barMaxWidth).toFixed(0)},musicError:function(i){var s=this;m.A.showInfoMsg("播放失败,5秒后自动切换下一首"),k.A.delayTime=setTimeout((function(){s.musicPlayPos()}),5e3)},musicCanplay:function(i){},getPicImgStyle:function(){return{background:"url('"+(this.audio.playing.pic?this.audio.playing.pic:"")+"') 0% 0% / 100% no-repeat"}},musicState:function(){k.A.musicState(),this.playing=k.A.playing},musicPlayPre:function(){k.A.musicPlayPre(),this.playing=k.A.playing},musicPlayPos:function(){k.A.musicPlayPos(),this.playing=k.A.playing},clickItem:function(i){k.A.musicPlay(i)}}};const g=(0,a(6262).A)(P,[["render",function(i,s,a,y,m,h){var k=(0,t.g2)("pop-list");return(0,t.uX)(),(0,t.CE)("div",u,[(0,t.Lk)("div",c,[(0,t.Lk)("div",o,[(0,t.Lk)("div",{class:(0,l.C4)(["music-img-wrap",{Rotation:i.audio.isPlay}])},[(0,t.Lk)("div",{class:"div-img head-music-pic",style:(0,l.Tr)(h.getPicImgStyle())},null,4)],2),(0,t.Lk)("div",e,[(0,t.Lk)("div",d,[(0,t.Lk)("div",{class:"music-title",style:(0,l.Tr)({width:i.audio.cssStyle.titleWidth+"px"}),title:i.audio.playing.title},[(0,t.Lk)("div",{class:(0,l.C4)(["music-display-info sing-ellipsis",{marquee:i.audio.isPlay}]),style:(0,l.Tr)({width:i.audio.cssStyle.titleWidth-5+"px"})},(0,l.v_)(i.audio.playing.title),7),(0,t.bo)((0,t.Lk)("div",{class:(0,l.C4)(["music-display-info sing-ellipsis",{marqueeT:i.audio.isPlay}]),style:(0,l.Tr)({width:i.audio.cssStyle.titleWidth-5+"px"})},(0,l.v_)(i.audio.playing.title),7),[[n.aG,i.audio.isPlay]])],12,p),(0,t.Lk)("div",r,[(0,t.Lk)("span",{class:"pre",onClick:s[0]||(s[0]=function(){return h.musicPlayPre&&h.musicPlayPre.apply(h,arguments)})},s[4]||(s[4]=[(0,t.Lk)("span",{class:"icon iconfont angle-double-left"},null,-1)])),(0,t.Lk)("span",{class:"play",onClick:s[1]||(s[1]=function(){return h.musicState&&h.musicState.apply(h,arguments)})},[(0,t.Lk)("span",{class:(0,l.C4)(["icon iconfont",{timeout:!i.audio.isPlay,play1:i.audio.isPlay}])},null,2)]),(0,t.Lk)("span",{class:"pos",onClick:s[2]||(s[2]=function(){return h.musicPlayPos&&h.musicPlayPos.apply(h,arguments)})},s[5]||(s[5]=[(0,t.Lk)("span",{class:"icon iconfont angle-double-right"},null,-1)]))])]),s[6]||(s[6]=(0,t.Lk)("div",{class:"music-volume-wrap"},[(0,t.Lk)("span",{class:"icon iconfont volume-"})],-1)),(0,t.Lk)("div",{class:"music-progress",style:(0,l.Tr)({width:i.audio.cssStyle.barWidth+"px"})},null,4)]),(0,t.Lk)("div",{class:"music-list-wrap",onClick:s[3]||(s[3]=function(s){return i.audio.showPlay=!i.audio.showPlay})},s[7]||(s[7]=[(0,t.Lk)("span",{class:"icon iconfont headphones"},null,-1)]))]),s[8]||(s[8]=(0,t.Lk)("div",{class:"music-player-shade"},null,-1)),(0,t.bF)(n.eB,{name:"trans"},{default:(0,t.k6)((function(){return[(0,t.bo)((0,t.bF)(k,{class:"pop-list",ref:"popList","pop-list":h.musicList,"pop-title":"音乐列表",flag:!0,onClickItem:h.clickItem},null,8,["pop-list","onClickItem"]),[[n.aG,i.audio.showPlay]])]})),_:1})]),s[9]||(s[9]=(0,t.Lk)("div",{id:"music_player_lrc"},null,-1))])}]])}}]);
//# sourceMappingURL=464.js.map