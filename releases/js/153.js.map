{"version":3,"file":"js/153.js","mappings":"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","sources":["webpack://blog/./src/components/common/headertop.vue","webpack://blog/./src/utils/video.js","webpack://blog/./src/components/common/headertop.vue?92f6"],"sourcesContent":["<template>\r\n    <div class=\"headertop filter-dot\">\r\n        <div id=\"video-container\" style=\"\">\r\n            <video id=\"bgvideo\" class=\"video\" video-name=\"\" src=\"\" width=\"auto\" preload=\"auto\" autoplay loop></video>\r\n            <div id=\"video-btn\" class=\"loadvideo videolive\"></div>\r\n            <div id=\"video-add\"></div>\r\n            <div class=\"video-stu\"></div>\r\n        </div>\r\n        <!-- <div class=\"headertop-down faa-float animated\" onclick=\"headertop_down()\">\r\n            <span> <i class=\"fa fa-chevron-down\" aria-hidden=\"true\"></i> </span>\r\n        </div> -->\r\n        <div class=\"headertop-logo\"></div>\r\n        <div class=\"headertop-menu\">\r\n            <ul>\r\n                <li v-for=\"item in menu\">\r\n                    <a href=\"javascript:void(0)\" @click=\"clickItem(item.url)\">\r\n                        <div class=\"font-big\">{{ item.name }}</div>\r\n                        <div class=\"font-small\">{{ item.title }}</div>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport BlogContext from \"@/context/BlogContext\";\r\nimport blogUtils from \"@/utils/BlogUtils\";\r\nimport blogApi from \"@/utils/BlogApi\";\r\nimport video from \"@/utils/video\"\r\nexport default {\r\n    name: \"headertop\",\r\n    data() {\r\n        menu: []\r\n    },\r\n    methods: {\r\n        loadvideo() {\r\n            video.loadvideo(BlogContext)\r\n        },\r\n        foucsMe: () => {\r\n            blogApi.blogFollow().then((data) => {\r\n                blogUtils.showInfoMsg(data);\r\n            });\r\n        },\r\n        clickItem: function (url) {\r\n            if (!url) {\r\n                return;\r\n            }\r\n            if (url.startsWith(\"me\")) {\r\n                this.foucsMe()\r\n                return;\r\n            }\r\n            if (url.startsWith(\"http\")) {\r\n                window.open(url);\r\n                return;\r\n            }\r\n            if (this.$route.path == url) {\r\n                document.getElementById('bgvideo').pause()\r\n                return;\r\n            }\r\n            this.$router.push(url);\r\n        },\r\n    },\r\n    created() {\r\n        this.loadvideo();\r\n        this.menu = BlogContext.menu\r\n        \r\n    },\r\n    mounted(){\r\n        $('.headertop-logo').append(BlogContext.logo)\r\n    }\r\n}\r\n\r\n</script>","import $ from \"jquery\";\r\nlet video = {\r\n    loadvideo: (ops) => {\r\n        let img = ops.bg === undefined ? [] : ops.bg\r\n        let mv = ops.movies === undefined ? [] : ops.movies\r\n        var Poi = {\r\n            movies: {\r\n                url: mv,\r\n                live: 'open',\r\n            },\r\n            imgs: img,\r\n            windowheight: 'fixed',\r\n            codelamp: 'close',\r\n            ajaxurl: '',\r\n            order: 'asc',\r\n            formpostion: 'bottom',\r\n        }\r\n\r\n        function getImageSizeByUrl(url, index, callback) {\r\n            let image = new Image()\r\n            image.onload = function () {\r\n                callback(index, {\r\n                    width: image.width,\r\n                    height: image.height,\r\n                })\r\n            }\r\n            image.onerror = function () {\r\n                callback(index, {\r\n                    width: 0,\r\n                    height: 0,\r\n                })\r\n            }\r\n            image.src = url\r\n        }\r\n\r\n        // 获取指定图像的尺寸信息\r\n        function getImageSizeTest(imageUrl) {\r\n            getImageSizeByUrl(imageUrl, 0, function (index, param) {\r\n                if (param.width > param.height) {\r\n                    $('.video-container').css({\r\n                        height: '' + param.height / 2 + '',\r\n                    })\r\n                }\r\n                if (param.width < param.height) {\r\n                    $('.video-container').css({\r\n                        height: '' + param.height / 1.4 + '',\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n        var s = $('#bgvideo'),\r\n            Siren = {\r\n                splay: function () {\r\n                    $('#video-btn')\r\n                        .addClass('video-pause')\r\n                        .removeClass('video-play')\r\n                        .show()\r\n                    $('.video-stu').css({\r\n                        bottom: '-100px',\r\n                    })\r\n\r\n                    document.getElementById('bgvideo').play()\r\n                    $('#bgimg').hide()\r\n                    $('.video-container').css({ height: 'auto' })\r\n                },\r\n                spause: function () {\r\n                    $('#video-btn')\r\n                        .addClass('video-play')\r\n                        .removeClass('video-pause')\r\n                    document.getElementById('bgvideo').pause()\r\n                },\r\n                liveplay: function () {\r\n                    if (s.oncanplay != undefined && $('.haslive').length > 0) {\r\n                        if ($('.videolive').length > 0) {\r\n                            Siren.splay()\r\n                        }\r\n                    }\r\n                },\r\n                livepause: function () {\r\n                    if (s.oncanplay != undefined && $('.haslive').length > 0) {\r\n                        Siren.spause()\r\n                        $('.video-stu')\r\n                            .css({\r\n                                bottom: '0px',\r\n                            })\r\n                            .html('已暂停 ...')\r\n                    }\r\n                },\r\n                addsource: function () {\r\n                    if (\r\n                        typeof Poi.movies.url != 'undefined' ||\r\n                        Poi.movies.url != null\r\n                    ) {\r\n                        // $('.video-stu')\r\n                        //     .html('正在载入视频 ...')\r\n                        //     .css({\r\n                        //         bottom: '0px',\r\n                        //     })\r\n                        // var t = Poi.movies.url.split(','),\r\n                        var t = Poi.movies.url,\r\n                            _t = t[Math.floor(Math.random() * t.length)]\r\n                        // $('#bgvideo').attr('src', Poi.movies.url + '/' + _t)\r\n                        $('#bgvideo').attr('src', _t)\r\n                        //$('#bgvideo').attr('video-name', _t)\r\n                    }\r\n                },\r\n                LV: function () {\r\n                    var _btn = $('#video-btn')\r\n                    _btn.on('click', function () {\r\n\r\n                        if ($(this).hasClass('loadvideo')) {\r\n\r\n                            $(this)\r\n                                .addClass('video-pause')\r\n                                .removeClass('loadvideo')\r\n                                .hide()\r\n\r\n                            Siren.addsource()\r\n                            s.oncanplay = function () {\r\n                                Siren.splay()\r\n                                $('#video-add').show()\r\n                                _btn.addClass('videolive')\r\n                                _btn.addClass('haslive')\r\n\r\n                            }\r\n\r\n                        } else {\r\n                            if ($(this).hasClass('video-pause')) {\r\n                                Siren.spause()\r\n                                _btn.removeClass('videolive')\r\n                                $('.video-stu')\r\n                                    .css({\r\n                                        bottom: '0px',\r\n                                    })\r\n                                    .html('已暂停 ...')\r\n                            } else {\r\n                                Siren.splay()\r\n                                _btn.addClass('videolive')\r\n                            }\r\n                        }\r\n                        s.onended = function () {\r\n                            $('#bgvideo').attr('src', '')\r\n                            $('#video-add').hide()\r\n                            _btn.addClass('loadvideo').removeClass('video-pause')\r\n                            _btn.removeClass('videolive')\r\n                            _btn.removeClass('haslive')\r\n                            $('#bgvideo').show()\r\n                        }\r\n\r\n                    })\r\n                    $('#video-add').on('click', function () {\r\n                        Siren.addsource()\r\n                    })\r\n                },\r\n                AH: function () {\r\n                    // if (Poi.windowheight == 'auto') {\r\n                    // if ($('h1.main-title').length > 0) {\r\n                    var _height = $(window).height()\r\n                    $('#centerbg').css({\r\n                        height: _height,\r\n                    })\r\n                    $('#video-container').css({\r\n                        height: _height,\r\n                    })\r\n\r\n                    // $('#bgvideo').css({\r\n                    //     'min-height': _height,\r\n                    // })\r\n                    $(window).resize(function () {\r\n                        Siren.AH()\r\n                    })\r\n                    //   }\r\n                    // } else {\r\n                    //     var _height = $(window).height()\r\n                    //     $('#centerbg').css({\r\n                    //         height: _height,\r\n                    //     })\r\n                    //     $('.headertop').addClass('headertop-bar')\r\n\r\n                    // }\r\n                },\r\n                PE: function () {\r\n                    if ($('.headertop').length > 0) {\r\n                        //   if ($('h1.main-title').length > 0) {\r\n                        //     $('.blank').css({\r\n                        //       'padding-top': '0px'\r\n                        //     })\r\n                        //     $('.headertop').css({\r\n                        //       'height': 'auto'\r\n                        //     }).show()\r\n                        if (Poi.movies.live == 'open') {\r\n\r\n                            \r\n                        } else {\r\n                            // $('.blank').css({\r\n                            //   'padding-top': '75px'\r\n                            // })\r\n                            // $('.headertop').css({\r\n                            //   'height': '0px'\r\n                            // }).hide()\r\n                            Siren.livepause()\r\n                        }\r\n                    }\r\n                },\r\n                IM: function () {\r\n\r\n                    if (Poi.movies.url == '') {\r\n                        $('#bgvideo').hide()\r\n                    }\r\n                    var t = Poi.imgs,\r\n                        _t = t[Math.floor(Math.random() * t.length)]\r\n                    $('#bgvideo').css({\r\n                        'background-image': 'url(' + _t + ')',\r\n                        height: '100%',\r\n                    })\r\n                    $('.centerbg').css({ 'background-image': 'url(' + _t + ')' })\r\n                    //getImageSizeTest(_t)\r\n                },\r\n                MP: function () { }\r\n            }\r\n        $(function () {\r\n            Siren.addsource()\r\n            Siren.AH()\r\n            Siren.LV()\r\n            Siren.PE()\r\n            //Siren.IM()\r\n            //Siren.MP()\r\n        })\r\n    }\r\n}\r\nexport default video;","import { render } from \"./headertop.vue?vue&type=template&id=4d578642\"\nimport script from \"./headertop.vue?vue&type=script&lang=js\"\nexport * from \"./headertop.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","loadvideo","ops","img","undefined","bg","Poi","movies","url","live","imgs","windowheight","codelamp","ajaxurl","order","formpostion","s","$","Siren","splay","addClass","removeClass","show","css","bottom","document","getElementById","play","hide","height","spause","pause","liveplay","oncanplay","length","livepause","html","addsource","t","_t","Math","floor","random","attr","LV","_btn","on","this","hasClass","onended","AH","_height","window","resize","PE","IM","MP","name","data","methods","video","BlogContext","foucsMe","blogApi","blogFollow","then","blogUtils","showInfoMsg","clickItem","startsWith","open","$route","path","$router","push","created","menu","mounted","append","logo","_createElementBlock","_hoisted_1","_createElementVNode","id","style","src","width","preload","autoplay","loop","_hoisted_2","_Fragment","_renderList","_ctx","item","href","onClick","$event","$options","_hoisted_4","_toDisplayString","_hoisted_5","title","_hoisted_3"],"sourceRoot":""}