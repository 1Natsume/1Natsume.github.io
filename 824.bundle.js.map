{"version":3,"file":"824.bundle.js","sources":["webpack://rspack-project/./src/components/CustomVideo.tsx","webpack://rspack-project/./src/components/AudioControls.tsx","webpack://rspack-project/./src/hooks/useColorAnimation.ts","webpack://rspack-project/./src/components/AppMenu.tsx","webpack://rspack-project/./src/views/Home.tsx","webpack://rspack-project/./src/hooks/useAudioAnalyzer.ts"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\ninterface VideoProps {\r\n  bg?: string[];\r\n  movies?: string[];\r\n}\r\n\r\ninterface VideoState {\r\n  isPlaying: boolean;\r\n  isLoading: boolean;\r\n  currentVideo: string;\r\n  currentImage: string;\r\n}\r\n\r\nconst VideoBackground: React.FC<VideoProps> = ({ bg = [], movies = [] }) => {\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [state, setState] = useState<VideoState>({\r\n    isPlaying: false,\r\n    isLoading: false,\r\n    currentVideo: '',\r\n    currentImage: '',\r\n  });\r\n\r\n  // 获取图片尺寸\r\n  const getImageSize = (url: string): Promise<{ width: number; height: number }> => {\r\n    return new Promise((resolve) => {\r\n      const image = new Image();\r\n      image.onload = () => {\r\n        resolve({\r\n          width: image.width,\r\n          height: image.height,\r\n        });\r\n      };\r\n      image.onerror = () => {\r\n        resolve({\r\n          width: 0,\r\n          height: 0,\r\n        });\r\n      };\r\n      image.src = url;\r\n    });\r\n  };\r\n\r\n  // 调整容器高度基于图片尺寸\r\n  const adjustContainerHeight = async (imageUrl: string) => {\r\n    try {\r\n      const size = await getImageSize(imageUrl);\r\n      if (containerRef.current) {\r\n        if (size.width > size.height) {\r\n          containerRef.current.style.height = `${size.height / 2}px`;\r\n        } else if (size.width < size.height) {\r\n          containerRef.current.style.height = `${size.height / 1.4}px`;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adjusting container height:', error);\r\n    }\r\n  };\r\n\r\n  // 随机选择视频\r\n  const getRandomVideo = (): string => {\r\n    if (movies.length === 0) return '';\r\n    const randomIndex = Math.floor(Math.random() * movies.length);\r\n    return movies[randomIndex];\r\n  };\r\n\r\n  // 随机选择图片\r\n  const getRandomImage = (): string => {\r\n    if (bg.length === 0) return '';\r\n    const randomIndex = Math.floor(Math.random() * bg.length);\r\n    return bg[randomIndex];\r\n  };\r\n\r\n  // 播放视频\r\n  const playVideo = () => {\r\n    if (videoRef.current) {\r\n      // if (videoRef.current) {\r\n      //   videoRef.current.style.height = `${window.innerHeight}px`;\r\n      // }\r\n      videoRef.current.play().then(() => {\r\n        setState(prev => ({\r\n          ...prev,\r\n          isPlaying: true,\r\n          isLoading: false,\r\n        }));\r\n      }).catch(error => {\r\n        console.error('Error playing video:', error);\r\n      });\r\n    }\r\n  };\r\n\r\n  // 暂停视频\r\n  const pauseVideo = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.pause();\r\n      setState(prev => ({\r\n        ...prev,\r\n        isPlaying: false,\r\n      }));\r\n    }\r\n  };\r\n\r\n  // 加载新视频\r\n  const loadNewVideo = () => {\r\n    if (movies.length === 0) return;\r\n\r\n    setState(prev => ({\r\n      ...prev,\r\n      isLoading: true,\r\n    }));\r\n\r\n    const newVideo = getRandomVideo();\r\n    setState(prev => ({\r\n      ...prev,\r\n      currentVideo: newVideo,\r\n    }));\r\n\r\n    if (videoRef.current) {\r\n      videoRef.current.load();\r\n\r\n    }\r\n  };\r\n\r\n  // 处理视频按钮点击\r\n  const handleVideoButtonClick = () => {\r\n    if (!state.currentVideo) {\r\n      // 首次加载视频\r\n      loadNewVideo();\r\n    } else if (state.isPlaying) {\r\n      pauseVideo();\r\n    } else {\r\n      playVideo();\r\n    }\r\n  };\r\n\r\n  // 处理视频结束\r\n  const handleVideoEnd = () => {\r\n    setState(prev => ({\r\n      ...prev,\r\n      currentVideo: '',\r\n      isPlaying: false,\r\n      isLoading: false,\r\n    }));\r\n  };\r\n\r\n  // 处理视频可以播放\r\n  const handleVideoCanPlay = () => {\r\n    playVideo();\r\n  };\r\n\r\n  // 初始化\r\n  useEffect(() => {\r\n    // 设置窗口高度\r\n    const adjustHeight = () => {\r\n      const windowHeight = window.innerHeight;\r\n      if (containerRef.current) {\r\n        containerRef.current.style.height = `${windowHeight}px`;\r\n\r\n      }\r\n      \r\n    };\r\n\r\n    adjustHeight();\r\n    window.addEventListener('resize', adjustHeight);\r\n\r\n    // 设置背景图片\r\n    // if (bg.length > 0 && movies.length === 0) {\r\n    //   const randomImage = getRandomImage();\r\n    //   setState(prev => ({\r\n    //     ...prev,\r\n    //     currentImage: randomImage,\r\n    //   }));\r\n    //   adjustContainerHeight(randomImage);\r\n    // }\r\n\r\n    // 如果有视频，预加载一个\r\n    if (movies.length > 0) {\r\n      loadNewVideo();\r\n      \r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', adjustHeight);\r\n    };\r\n  }, []);\r\n\r\n  // 获取按钮类名\r\n  const getButtonClassName = (): string => {\r\n    if (!state.currentVideo) return 'video-btn loadvideo';\r\n    return state.isPlaying ? 'video-btn video-pause' : 'video-btn video-play';\r\n  };\r\n\r\n  return (\r\n    <div className=\"video-container\" ref={containerRef}>\r\n      {/* <div className=\"centerbg\" \r\n           style={{ backgroundImage: state.currentImage ? `url(${state.currentImage})` : 'none' }} \r\n      /> */}\r\n      {state.currentVideo && (\r\n        <video\r\n          ref={videoRef}\r\n          id=\"bgvideo\"\r\n          className=\"video\"\r\n          src={state.currentVideo}\r\n          onCanPlay={handleVideoCanPlay}\r\n          onEnded={handleVideoEnd}\r\n          muted\r\n          loop={false}\r\n          playsInline\r\n          preload=\"auto\"\r\n        //style={{ display: state.isPlaying ? 'block' : 'none' }}\r\n        />\r\n      )}\r\n\r\n      {/* <div \r\n        id=\"bgimg\" \r\n        style={{ \r\n          display: state.currentImage && !state.isPlaying ? 'block' : 'none',\r\n          backgroundImage: state.currentImage ? `url(${state.currentImage})` : 'none'\r\n        }} \r\n      /> */}\r\n\r\n      <div\r\n        className={getButtonClassName()}\r\n        onClick={handleVideoButtonClick}\r\n        style={{ display: movies.length > 0 ? 'block' : 'none' }}\r\n      />\r\n\r\n      <div\r\n        className=\"video-add\"\r\n        style={{ display: state.isPlaying ? 'block' : 'none' }}\r\n        onClick={loadNewVideo}\r\n      />\r\n\r\n      <div\r\n        className=\"video-stu\"\r\n        style={{ bottom: state.isPlaying ? '-100px' : '0px' }}\r\n      >\r\n        {!state.isPlaying && state.currentVideo && '已暂停 ...'}\r\n        {state.isLoading && '正在载入视频 ...'}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoBackground;","// components/AudioControls.tsx\r\nimport React, { useRef } from 'react';\r\n\r\ninterface AudioControlsProps {\r\n  onPlay: (audioElement: HTMLAudioElement, fileName?: string) => void;\r\n  onStop: () => void;\r\n  audioInfo: string;\r\n}\r\n\r\nconst AudioControls: React.FC<AudioControlsProps> = ({ onPlay, onStop }) => {\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    const url = URL.createObjectURL(file);\r\n    const audioElement = new Audio(url);\r\n    \r\n    onPlay(audioElement, file.name);\r\n  };\r\n\r\n  return (\r\n    <div></div>\r\n  );\r\n};\r\n\r\nexport default AudioControls;","// hooks/useColorAnimation.ts\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\nconst COLORS = [\r\n  '#FF5252', '#FF4081', '#E040FB', '#7C4DFF',\r\n  '#536DFE', '#448AFF', '#40C4FF', '#18FFFF',\r\n  '#64FFDA', '#69F0AE', '#B2FF59', '#EEFF41'\r\n];\r\n\r\nexport const useColorAnimation = (elementCount: number, isPlaying: boolean, averageFrequency: number) => {\r\n  const [activeElements, setActiveElements] = useState<number[]>([]);\r\n  const animationRef = useRef<number>(0);\r\n  const currentIndexRef = useRef(0);\r\n\r\n  useEffect(() => {\r\n    if (!isPlaying) {\r\n      setActiveElements([]);\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n      return;\r\n    }\r\n\r\n    const animateColors = () => {\r\n      // 根据音频强度调整动画速度\r\n      const speed = Math.max(100, 500 - averageFrequency * 3);\r\n      \r\n      setTimeout(() => {\r\n        if (!isPlaying) return;\r\n        \r\n        // 移动到下一个元素\r\n        currentIndexRef.current = (currentIndexRef.current + 1) % elementCount;\r\n        \r\n        // 设置当前激活的元素（可以同时激活多个元素，形成波浪效果）\r\n        const newActiveElements = [\r\n          currentIndexRef.current,\r\n          (currentIndexRef.current + 1) % elementCount,\r\n          (currentIndexRef.current + 2) % elementCount\r\n        ];\r\n        \r\n        setActiveElements(newActiveElements);\r\n        \r\n        animationRef.current = requestAnimationFrame(animateColors);\r\n      }, speed);\r\n    };\r\n\r\n    animationRef.current = requestAnimationFrame(animateColors);\r\n\r\n    return () => {\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, [isPlaying, averageFrequency, elementCount]);\r\n\r\n  const getColorForElement = (elementId: number): string => {\r\n    if (!activeElements.includes(elementId)) return '#333';\r\n    \r\n    // 根据元素在激活序列中的位置决定颜色\r\n    const position = activeElements.indexOf(elementId);\r\n    const colorIndex = (elementId + position) % COLORS.length;\r\n    return COLORS[colorIndex];\r\n  };\r\n\r\n  return { getColorForElement, activeElements };\r\n};","import { AppMenu } from \"@/types/config\";\r\nimport { MouseEventHandler } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\ninterface AppMenuProps {\r\n    menu?: AppMenu[]\r\n}\r\n\r\nconst AppMenu = ({ menu }: AppMenuProps) => {\r\n    var navigate = useNavigate()\r\n\r\n    const clickItem = (event: React.MouseEvent<HTMLAnchorElement>, url: string) => {\r\n        event.preventDefault();\r\n        if (!url) {\r\n            return;\r\n        }\r\n        else if (url.startsWith(\"me\")) {\r\n            //this.foucsMe()\r\n            return;\r\n        }\r\n        else if (url.startsWith(\"http\")) {\r\n            window.open(url);\r\n            return;\r\n        }\r\n        else {\r\n            navigate(url, { replace: true });\r\n        }\r\n\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"absolute h-auto right-0 top-1/2 transform -translate-y-1/2 z-10\">\r\n            <ul>\r\n                {\r\n                    menu?.map(item => (\r\n                        <li key={item.name} className=\"text-[#f57878] hover:text-cyan-300 text-right mr-2\">\r\n                            <a style={{cursor: 'pointer'}} onClick={(e) =>clickItem(e,item.path)}>\r\n                                <div className=\"relative text-[40px] [text-shadow:-1px_0_white,0_1px_white,1px_0_white,0_-1px_white]\">{item.name}</div>\r\n                                <div className=\"relative -mt-4\">{item.title}</div>\r\n                            </a>\r\n                        </li>\r\n                    ))\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AppMenu;","import CustomVideo from '@/components/CustomVideo';\r\nimport { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { Canvas } from '@react-three/fiber'\r\nimport Model from './Model';\r\nimport { OrbitControls } from '@react-three/drei';\r\nimport AudioControls from '@/components/AudioControls';\r\nimport { useAudioAnalyzer } from '@/hooks/useAudioAnalyzer';\r\nimport { useColorAnimation } from '@/hooks/useColorAnimation';\r\nimport AppMenu from '@/components/AppMenu';\r\nimport { configManager } from '@/utils/ConfigManager';\r\nimport { AppMenu as AM } from '@/types/config';\r\n\r\nconst Home = () => {\r\n  const {\r\n    audioRef,\r\n    isPlaying,\r\n    audioInfo,\r\n    playAudio,\r\n    stopAudio,\r\n    getFrequencyData,\r\n    getAverageFrequency\r\n  } = useAudioAnalyzer();\r\n\r\n  const averageFrequency = getAverageFrequency();\r\n  const { getColorForElement } = useColorAnimation(8, isPlaying, averageFrequency);\r\n\r\n  const [menus,setMenus] = useState<AM[]>([]);\r\n\r\n  useEffect(() => {\r\n\r\n    let GetMenus = async()=>{\r\n      setMenus(await configManager.get().menu as AM[]);\r\n    }\r\n    GetMenus()\r\n  }, [])\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <AudioControls\r\n        onPlay={playAudio}\r\n        onStop={stopAudio}\r\n        audioInfo={audioInfo}\r\n      />\r\n\r\n      <div className='headertop filter-dot'>\r\n        <CustomVideo movies={[\"https://video.cdn.queniuqe.com/store_trailers/256982456/movie480_vp9.webm?t=1703239286\"]}></CustomVideo>\r\n        <AppMenu menu={menus}></AppMenu>\r\n      </div>\r\n      \r\n      {/* 隐藏的audio元素用于引用 */}\r\n      <audio ref={audioRef} style={{ display: 'none' }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;","// hooks/useAudioAnalyzer.ts\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\nexport const useAudioAnalyzer = () => {\r\n  const [audioContext, setAudioContext] = useState<AudioContext | null>(null);\r\n  const [analyser, setAnalyser] = useState<AnalyserNode | null>(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [audioInfo, setAudioInfo] = useState('');\r\n  const sourceRef = useRef<MediaElementAudioSourceNode | null>(null);\r\n  const audioRef = useRef<HTMLAudioElement | null>(null);\r\n\r\n  const initAudioContext = () => {\r\n    if (!audioContext) {\r\n      const ctx = new (window.AudioContext || (window as any).webkitAudioContext)();\r\n      const anal = ctx.createAnalyser();\r\n      anal.fftSize = 256;\r\n      \r\n      setAudioContext(ctx);\r\n      setAnalyser(anal);\r\n    }\r\n  };\r\n\r\n  const setupAudioSource = (audioElement: HTMLAudioElement) => {\r\n    if (!audioContext || !analyser) return;\r\n\r\n    if (sourceRef.current) {\r\n      sourceRef.current.disconnect();\r\n    }\r\n\r\n    const source = audioContext.createMediaElementSource(audioElement);\r\n    source.connect(analyser);\r\n    analyser.connect(audioContext.destination);\r\n    sourceRef.current = source;\r\n  };\r\n\r\n  const playAudio = (audioElement: HTMLAudioElement, fileName?: string) => {\r\n    initAudioContext();\r\n    \r\n    if (audioContext?.state === 'suspended') {\r\n      audioContext.resume();\r\n    }\r\n\r\n    setupAudioSource(audioElement);\r\n    audioElement.play();\r\n    setIsPlaying(true);\r\n    \r\n    if (fileName) {\r\n      setAudioInfo(`正在播放: ${fileName}`);\r\n    }\r\n  };\r\n\r\n  const stopAudio = () => {\r\n    if (audioRef.current) {\r\n      audioRef.current.pause();\r\n      audioRef.current.currentTime = 0;\r\n    }\r\n    setIsPlaying(false);\r\n    setAudioInfo('');\r\n  };\r\n\r\n  const getFrequencyData = (): Uint8Array | null => {\r\n    if (!analyser) return null;\r\n    \r\n    const bufferLength = analyser.frequencyBinCount;\r\n    const dataArray = new Uint8Array(bufferLength);\r\n    analyser.getByteFrequencyData(dataArray);\r\n    \r\n    return dataArray;\r\n  };\r\n\r\n  const getAverageFrequency = (): number => {\r\n    const dataArray = getFrequencyData();\r\n    if (!dataArray) return 0;\r\n    \r\n    let sum = 0;\r\n    for (let i = 0; i < dataArray.length; i++) {\r\n      sum += dataArray[i];\r\n    }\r\n    return sum / dataArray.length;\r\n  };\r\n\r\n  return {\r\n    audioRef,\r\n    isPlaying,\r\n    audioInfo,\r\n    playAudio,\r\n    stopAudio,\r\n    getFrequencyData,\r\n    getAverageFrequency\r\n  };\r\n};"],"names":["bg","movies","videoRef","useRef","containerRef","state","setState","useState","playVideo","prev","error","console","loadNewVideo","newVideo","getRandomVideo","randomIndex","Math","useEffect","adjustHeight","windowHeight","window","onPlay","onStop","COLORS","menu","navigate","useNavigate","item","e","clickItem","event","url","audioRef","isPlaying","audioInfo","playAudio","stopAudio","getFrequencyData","getAverageFrequency","useAudioAnalyzer","audioContext","setAudioContext","analyser","setAnalyser","setIsPlaying","setAudioInfo","sourceRef","dataArray","Uint8Array","audioElement","fileName","ctx","anal","setupAudioSource","source","sum","i","getColorForElement","useColorAnimation","elementCount","averageFrequency","activeElements","setActiveElements","animationRef","currentIndexRef","cancelAnimationFrame","animateColors","setTimeout","requestAnimationFrame","elementId","position","colorIndex","menus","setMenus","GetMenus","configManager","AudioControls","CustomVideo","AppMenu"],"mappings":"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"}