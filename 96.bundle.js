"use strict";(self.webpackChunkrspack_project=self.webpackChunkrspack_project||[]).push([["96"],{1043:function(e,s,a){a.r(s),a.d(s,{default:()=>u});var t=a(2800),i=a(2124),n=a(3630),r=a(4980),l=a(6187);function o(e,s,a){return s in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}let d=new class{setMessageInstance(e){this.message=e,this.message.success}setNotificationInstance(e){this.notification=e}setModalInstance(e){this.modal=e}constructor(){o(this,"message",void 0),o(this,"notification",void 0),o(this,"modal",void 0)}};var c=a(9663);let u=()=>{let[e,s]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[u,m]=(0,i.useState)(!1),h=(0,n.Zp)(),{setToken:f,setRefreshToken:g}=(0,c.j)(),p=async s=>{s.preventDefault();try{let s=await l.y.login({username:e,password:a});f(s.token),g(s.refreshToken),h("/dashboard",{replace:!0})}catch(e){d.message.error({content:""+e})}};return(0,t.jsx)("div",{className:"login",children:(0,t.jsx)("div",{className:"flex justify-center items-center h-[100vh]",children:(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"dark:bg-[rgb(33,41,70)] w-[400px] px-[32px] py-[20px] mt-[-12%] bg-white rounded-lg",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:p,method:"POST",children:[(0,t.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(r.A,{id:"username",name:"username",autoComplete:"username",required:!0,className:"",placeholder:"用户名",value:e,onChange:e=>s(e.target.value),disabled:"loading"===status})}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(r.A.Password,{id:"password",name:"password",autoComplete:"current-password",required:!0,className:"",placeholder:"密码",value:a,onChange:e=>o(e.target.value),disabled:"loading"===status})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 dark:bg-indigo-500 dark:shadow-none dark:hover:bg-indigo-400 dark:focus-visible:outline-indigo-500",children:"loading"===status?(0,t.jsx)("span",{className:"flex items-center",children:"登录中..."}):"登录"})})]})})})})})}}}]);
//# sourceMappingURL=96.bundle.js.map