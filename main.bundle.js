(()=>{"use strict";var e,t,r,n,a,s,o,i,l,c,u,d,p,m,g,h,f,v={8687:function(e,t,r){r.a(e,async function(e,n){try{r.d(t,{A:()=>e});var a=r(2800);r(2124);var s=r(4406),o=r(6416);r(5550);var i=r(8216);await i.s.load();let e=()=>(0,a.jsx)(o.pg,{router:s.Q});n()}catch(e){n(e)}},1)},2931:function(e,t,r){r.a(e,async function(e,t){try{var n=r(2800),a=r(2124),s=r(2826),o=r(8687),i=e([o]);o=(i.then?(await i)():i)[0],s.createRoot(document.getElementById("root")).render((0,n.jsx)(a.StrictMode,{children:(0,n.jsx)(o.A,{})})),t()}catch(e){t(e)}})},2423:function(e,t,r){r.d(t,{K:()=>u});var n=r(9663),a=r(8216),s=r(1494);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class i{set(e,t,r){this.cache.set(e,{data:t,timestamp:Date.now(),expires:Date.now()+r})}get(e){let t=this.cache.get(e);return t?Date.now()>t.expires?(this.cache.delete(e),null):t.data:null}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}constructor(){o(this,"cache",new Map)}}let l=new class{async initialize(){return a.s.isReady()||(await a.s.load(),this.config=a.s.get()),this.instance||(this.instance=s.A.create({baseURL:this.config.api.baseUrl,timeout:this.config.api.timeout}),this.setupRequestInterceptors(),this.setupResponseInterceptors()),this.instance}setupRequestInterceptors(){this.instance&&this.instance.interceptors.request.use(async e=>{let t=a.s.get();e.headers["X-Request-Timestamp"]=Date.now(),e.headers["X-App-Version"]=t.app.version,e.headers["X-Environment"]=t.app.environment;let r=n.j.getState().token;if(r&&(e.headers.Authorization="".concat(r)),t.app.debug){var s;console.log("[API Request] ".concat(null==(s=e.method)?void 0:s.toUpperCase()," ").concat(e.url),{data:e.data,params:e.params})}return e},e=>(a.s.get().app.debug&&console.error("[API Request Error]",e),Promise.reject(e)))}setupResponseInterceptors(){this.instance&&this.instance.interceptors.response.use(e=>{if(a.s.get().app.debug){var t;console.log("[API Response] ".concat(null==(t=e.config.method)?void 0:t.toUpperCase()," ").concat(e.config.url),{data:e.data,status:e.status})}return e},async e=>{let t=a.s.get();if(e.config,t.app.debug){var r,n,s;console.error("[API Response Error]",{url:null==(r=e.config)?void 0:r.url,method:null==(n=e.config)?void 0:n.method,status:null==(s=e.response)?void 0:s.status,message:e.message})}return Promise.reject(this.handleError(e))})}delay(e){return new Promise(t=>setTimeout(t,e))}async handleError(e){if(a.s.get(),e.response){let{status:t,data:r}=e.response;switch(t){case 401:try{let e=u.post("/auth/refreshToken"),t=(await e).data.token;localStorage.setItem("token",t)}catch(e){return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(e)}case 403:return{code:"FORBIDDEN",message:"访问被拒绝",data:r,originalError:e};case 404:return{code:"NOT_FOUND",message:"资源不存在",data:r,originalError:e};case 500:return{code:"SERVER_ERROR",message:"服务器内部错误",data:r,originalError:e};default:return{code:"HTTP_".concat(t),message:"请求错误 (".concat(t,")"),data:r,originalError:e}}}else if(e.request)return{code:"NETWORK_ERROR",message:"网络错误，请检查连接",originalError:e};else return{code:"REQUEST_ERROR",message:"请求配置错误",originalError:e}}clearCache(){this.cache.clear()}getInstance(){return this.instance}constructor(){o(this,"instance",null),o(this,"cache",void 0),o(this,"config",void 0),this.cache=new i,this.config=a.s.get()}};function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let u=new class{async init(){this.axiosInstance||(this.axiosInstance=await l.initialize())}getInstance(){if(!this.axiosInstance)throw Error("API Service 未初始化，请先调用 init() 方法");return this.axiosInstance}async request(e,t,r,n){await this.init();try{let a=await this.getInstance().request(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c(e,t,r[t])})}return e}({method:e,url:t,data:r},n));return{success:!0,data:a.data,timestamp:Date.now()}}catch(e){return{success:!1,code:e.code||"UNKNOWN_ERROR",message:e.message||"未知错误",timestamp:Date.now()}}}async get(e,t){return this.request("GET",e,void 0,{params:t})}async post(e,t){return this.request("POST",e,t)}async put(e,t){return this.request("PUT",e,t)}async patch(e,t){return this.request("PATCH",e,t)}async delete(e,t){return this.request("DELETE",e,void 0,{params:t})}getFullUrl(e,t){return a.s.getFullUrl(e,t)}clearCache(){l.clearCache()}constructor(){c(this,"axiosInstance",null)}}},4406:function(e,t,r){r.d(t,{Q:()=>O});var n=r(3630),a=r(2800);let s=new class{async fetchWithTimeout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new AbortController,a=setTimeout(()=>n.abort(),t);try{let t=await fetch(e,{signal:n.signal,headers:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},r)});return clearTimeout(a),t}catch(e){throw clearTimeout(a),e}}parseHTML(e){return new DOMParser().parseFromString(e,"text/html")}extractData(e,t){var r;let n=e.querySelector(t);return n?n instanceof HTMLInputElement||n instanceof HTMLSelectElement?n.value:n instanceof HTMLImageElement?n.src:n instanceof HTMLAnchorElement?n.href:(null==(r=n.textContent)?void 0:r.trim())||n.innerHTML.trim():null}extractDatas(e,t){let r=e.querySelectorAll(t);return r||null}async scrapeElement(e){let t={success:!1,data:null,timestamp:new Date};try{if(!e.url||!e.selector)throw Error("URL和选择器是必需的");let r=await this.fetchWithTimeout(e.url,e.timeout,e.headers);if(!r.ok)throw Error("HTTP错误: ".concat(r.status," ").concat(r.statusText));let n=await r.text(),a=this.parseHTML(n),s=this.extractData(a,e.selector);if(null===s)throw Error('未找到选择器 "'.concat(e.selector,'" 对应的元素'));t.success=!0,t.data=s}catch(e){t.error=e instanceof Error?e.message:"未知错误"}return t}async scrapeGetElements(e){try{if(!e.url||!e.selector)throw Error("URL和选择器是必需的");let t=await this.fetchWithTimeout(e.url,e.timeout,e.headers);if(!t.ok)throw Error("HTTP错误: ".concat(t.status," ").concat(t.statusText));let r=await t.text(),n=this.parseHTML(r),a=this.extractDatas(n,e.selector);if(null===a)throw Error('未找到选择器 "'.concat(e.selector,'" 对应的元素'));return a}catch(e){}}async scrapeMultipleElements(e,t,r){let n={};for(let a of t)n[a]=await this.scrapeElement({url:e,selector:a,timeout:r});return n}async scrapeElements(e,t,r){return await this.scrapeGetElements({url:e,selector:t,timeout:r})}async scrapeHtml(e){let t=await this.fetchWithTimeout(e);if(!t.ok)throw Error("HTTP错误: ".concat(t.status," ").concat(t.statusText));let r=await t.text();return this.parseHTML(r)}async scrapeAttribute(e){let t=await this.scrapeElement(e);if(t.success&&t.data)try{let r=t.data,n=this.parseHTML("<div>".concat(r,"</div>")).querySelector(e.selector);n&&n.hasAttribute(e.attribute)?t.data=n.getAttribute(e.attribute):(t.success=!1,t.data=null,t.error='元素没有属性 "'.concat(e.attribute,'"'))}catch(e){t.success=!1,t.data=null,t.error="解析属性时出错"}return t}};var o=r(2423);let i={GetCategoryList:async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=[],n={current:t,pages:[]},a=await s.scrapeHtml("/newjersey?page="+t);n.pages=(e=>{let t,r=[],n=/\d+\.?\d*/g;for(;null!==(t=n.exec(e));)r.push(parseFloat(t[0]));return r})(null==(e=a.querySelector("#homepage_bottom_pager .pager"))?void 0:e.textContent);let o=await s.extractDatas(a,".forFlow .day");return null==o||o.forEach(e=>{null==(t=e.querySelector(".dayTitle a"))||t.textContent.trim();var t,n,a,s,o,i,l,c,u=e.querySelectorAll(".postTitle");if(u.length>1)u.forEach((t,n)=>{var a,s,o,i;let l={id:0,title:"",url:"",desc:"",time:"",readNum:0,commentNum:0,recommendNum:0,editUrl:"",imgUrl:"",isTop:!1};l.title=null==(a=t.querySelector("a span"))?void 0:a.textContent.trim().replace("[置顶]","").replace(" [置顶]","");let c=e.querySelectorAll(".postDesc")[n].textContent;l.editUrl=null==(o=t.querySelector("a"))||null==(s=o.getAttribute("href"))?void 0:s.trim().replace("https://www.cnblogs.com",""),e.querySelectorAll(".desc_img")[n]&&(l.imgUrl="https://images.weserv.nl/?url="+(null==(i=e.querySelectorAll(".desc_img")[n])?void 0:i.attributes[0].value));let u=l.editUrl.split("/");l.id=parseInt(u[u.length-1].replace(".html","")),c&&(l.readNum=parseInt(c.split("\n")[2].replace("阅读(","").replace(")","").trim()),l.commentNum=parseInt(c.split("\n")[3].replace("评论(","").replace(")","")),l.recommendNum=parseInt(c.split("\n")[4].replace("推荐(","").replace(")",""))),r.push(l)});else{let t={id:0,title:"",url:"",desc:"",time:"",readNum:0,commentNum:0,recommendNum:0,editUrl:"",imgUrl:"",isTop:!1};t.title=null==(n=e.querySelector(".postTitle a span"))?void 0:n.textContent.trim().replace("[置顶]","").replace(" [置顶]","");let u=null==(a=e.querySelector(".postDesc"))?void 0:a.textContent;if(t.editUrl=null==(o=e.querySelector(".postTitle a"))||null==(s=o.getAttribute("href"))?void 0:s.trim().replace("https://www.cnblogs.com",""),null==(i=e.querySelector(".postCon .c_b_p_desc a"))||i.remove(),t.isTop=e.classList.contains("pinned"),t.desc=null==(l=e.querySelector(".postCon .c_b_p_desc"))?void 0:l.textContent.replace("\n摘要：        \n",""),e.querySelector(".desc_img")&&(t.imgUrl="https://images.weserv.nl/?url="+(null==(c=e.querySelector(".desc_img"))?void 0:c.attributes[0].value)),u){t.readNum=parseInt(u.split("\n")[2].replace("阅读(","").replace(")","").trim()),t.commentNum=parseInt(u.split("\n")[3].replace("评论(","").replace(")","")),t.recommendNum=parseInt(u.split("\n")[4].replace("推荐(","").replace(")",""));let e=t.editUrl.split("/");t.id=parseInt(e[e.length-1].replace(".html",""))}r.push(t)}}),{data:r,pager:n}},blogFollow:async()=>{if(await o.K.post("/newjersey/ajax/Follow/FollowBlogger.aspx",{blogUserGuid:"c74cdce3-551f-4ab1-dbb7-08d9c527a5cc"}))return!0},GetArticle:async e=>{var t,r,n,a,o;let l=await s.scrapeHtml(e.editUrl),c={id:0,title:"",url:"",desc:"",time:"",readNum:0,commentNum:0,recommendNum:0,editUrl:"",imgUrl:"",isTop:!1};return c.title=null==(t=l.querySelector("#topics #cb_post_title_url span"))?void 0:t.textContent,c.desc=null==(r=l.querySelector("#topics .postBody"))?void 0:r.textContent.replace(/_src/g,"src"),c.time=null==(n=l.querySelector("#topics .postDesc #post-date"))?void 0:n.textContent,c.editUrl=null==(a=l.querySelector("#topics .postDesc [rel='nofollow']"))?void 0:a.getAttribute("href"),c.readNum=parseInt(null==(o=l.querySelector("#post_view_count"))?void 0:o.textContent),c.id=e.id,c.comments=i.GetCommentList(l),c},GetCommentList:e=>{let t=[];return e.querySelectorAll(".feedbackItem").forEach((e,r)=>{var n,a;console.log(e);let s={id:0,date:"",author:"",desc:""};s.id=parseInt(null==(a=e.querySelector("[class='layer']"))||null==(n=a.getAttribute("href"))?void 0:n.replace("#","")),s.date=$(e).find(".comment_date").html(),s.author=$(e).find("[id^='a_comment_author_']").text(),t.push(s)}),t}};var l=r(2124),c=r(3349),u=r(4192),d=r(1188);c.A.registerLanguage("javascript",u.A);let p=function(e){let{code:t,language:r="javascript"}=e;return(0,a.jsx)(c.A,{language:r,style:d.A,children:t})};var m=r(5543),g=r(9816),h=r(8550),f=r(3161);let v=e=>{let{content:t="",onChange:r,placeholder:n="请输入内容..."}=e,s=(0,m.hG)({extensions:[g.A,h.A,f.A.configure({placeholder:n})],content:t,onUpdate:e=>{let{editor:t}=e;null==r||r(t.getHTML())},editorProps:{attributes:{class:"prose focus:outline-none min-h-[200px] p-4"}}});return(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsx)(m.$Z,{editor:s})})},b=e=>{var t;let{onClose:r}=e,[n,s]=(0,l.useState)(null),[o,c]=(0,l.useState)(0),[u,d]=(0,l.useState)([]),[m,g]=(0,l.useState)(),h=(0,l.useRef)(!1);(0,l.useEffect)(()=>{h.current||(b(1),h.current=!0)},[]);let f=async e=>{let t=await i.GetArticle(e);t.imgUrl=e.imgUrl,s(t)},b=async e=>{let t=await i.GetCategoryList(e);d(t.data),g(t.pager)};return(0,a.jsxs)("div",{className:"cg-gallery h-screen relative",style:{backgroundImage:"url(/images/bg.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:[(0,a.jsxs)("div",{className:"cg-gallery-header text-blue-300 h-auto w-full relative",children:[(0,a.jsx)("h2",{className:"absolute text-[25px] left-1",children:"CG画廊"}),(0,a.jsx)("button",{className:"close-gallery absolute right-2 top-2",onClick:r,children:(0,a.jsx)("img",{src:"/images/close.png"})})]}),0==u.length?(0,a.jsxs)("div",{className:"no-cg-message",children:[(0,a.jsx)("p",{children:"尚未解锁任何CG"}),(0,a.jsx)("p",{children:"继续游戏以解锁更多CG"})]}):(0,a.jsx)("div",{className:"cg-grid relative top-10 grid sm:grid-cols-4 lg:grid-cols-3 gap-8 justify-center pl-6 pr-6 sm:pl-20 sm:pr-20 xl:grid-cols-4",children:u.map((e,t)=>(0,a.jsxs)("div",{style:{cursor:"pointer"},className:"cg-item relative bg-gray-500 rounded-xl h-40 xl:h-44 xl:text-2xl overflow-hidden",onClick:()=>{f(e),c(t)},children:[(0,a.jsx)("div",{className:"cg-image absolute inset-0 w-full h-full object-cover",children:e.imgUrl&&(0,a.jsx)("img",{src:e.imgUrl})}),(0,a.jsx)("div",{className:"cg-title absolute inset-0 text-white w-full h-8 text-center self-center text-[14px] overflow-hidden text-ellipsis",children:e.title}),(0,a.jsx)("div",{className:"cg-date",children:e.time})]},e.id))}),n&&(0,a.jsxs)("div",{className:"cg-viewer absolute top-0 w-auto inset-0 m-auto bg-white overflow-y-scroll",children:[(0,a.jsx)("h3",{className:"absolute text-center top-16 inset-0 m-auto z-10 text-2xl",children:n.title}),(0,a.jsx)("button",{className:"cg-close fixed top-0 right-2 z-10",onClick:()=>{s(null)},children:(0,a.jsx)("img",{src:"/images/close.png"})}),(0,a.jsx)("div",{className:"cg-full-image relative",children:(0,a.jsx)("img",{className:"w-full h-44 object-cover",src:n.imgUrl})}),(0,a.jsx)("div",{className:"cg-viewer-content relative w-full z-10",children:(0,a.jsx)(p,{code:n.desc,language:"javascript"})}),(0,a.jsx)("div",{className:"cg-editor",children:(0,a.jsx)(v,{})}),(0,a.jsx)("div",{className:"cg-comment",children:null==(t=n.comments)?void 0:t.map(e=>(0,a.jsx)("div",{children:e.desc}))}),(0,a.jsxs)("div",{className:"cg-navigation w-fit inset-0 m-auto z-10",children:[(0,a.jsx)("button",{className:"cg-nav-button",onClick:()=>{if(o>0){let e=o-1;s(u[e]),c(e)}},disabled:0===o,children:"◀"}),(0,a.jsxs)("span",{className:"cg-counter",children:[o+1," / ",u.length]}),(0,a.jsx)("button",{className:"cg-nav-button",onClick:()=>{if(o<u.length-1){let e=o+1;s(u[e]),c(e)}},disabled:o===u.length-1,children:"▶"})]})]}),m&&(0,a.jsx)("div",{className:"cg-pager relative top-10 flex items-center justify-center",children:m.pages.map(e=>(0,a.jsx)("a",{style:{cursor:"pointer"},className:m.current==e?"p-5 text-cyan-300":"p-5 text-white",onClick:t=>{t.preventDefault(),b(e)},children:e},e))})]})};r(2887);let y=e=>{var t,r;let{isOpen:n,onClose:s,backgroundImage:o,expressions:i,initialExpressionIndex:c=0,onBackgroundClick:u,onExpressionChange:d,width:p="100%",height:m="600px",showExpressionSelector:g=!0,clickToSwitch:h=!0}=e,[f,v]=(0,l.useState)(c),b=(0,l.useRef)(null),[y,w]=(0,l.useState)({width:0,height:0});if((0,l.useEffect)(()=>{let e=()=>{if(b.current){let{width:e,height:t}=b.current.getBoundingClientRect();w({width:e,height:t})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),!n)return null;let x=e=>{v(e),null==d||d(i[e].name,e)},j=i[f];return(0,a.jsxs)("div",{className:"modal-overlay",children:[(0,a.jsx)("div",{className:"modal-close absolute right-5 top-2",onClick:s,children:(0,a.jsx)("img",{src:"/images/close.png"})}),(0,a.jsxs)("div",{className:"galgame-cg-container",style:{width:p,height:m},children:[(0,a.jsxs)("div",{className:"cg-background",style:{backgroundImage:"url(".concat(o,")")},onClick:e=>{if(e.stopPropagation(),h){let e=(f+1)%i.length;v(e),null==d||d(i[e].name,e)}null==u||u()},ref:b,role:"button","aria-label":"点击切换表情",children:[j&&(0,a.jsx)("div",{className:"cg-expression",style:(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({backgroundImage:"url(".concat(j.image,")")},(e=>{if(!e)return{left:"50%",top:"50%",transform:"translate(-50%, -50%)"};let{x:t,y:r}=e;return{left:"string"==typeof t&&t.includes("%")?t:"".concat(t,"px"),top:"string"==typeof r&&r.includes("%")?r:"".concat(r,"px")}})(j.position)),r=r={transform:"translate(-50%, -50%) scale(".concat(j.scale||1,")"),zIndex:j.zIndex||1},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t)}),!1]}),i.length>1&&(0,a.jsxs)("div",{className:"expression-navigation",children:[(0,a.jsx)("button",{className:"nav-button prev",onClick:()=>{x((f-1+i.length)%i.length)},"aria-label":"上一个表情",children:"◀"}),(0,a.jsx)("button",{className:"nav-button next",onClick:()=>{x((f+1)%i.length)},"aria-label":"下一个表情",children:"▶"})]})]})]})},w=l.lazy(()=>r.e("824").then(r.bind(r,6755))),x=l.lazy(()=>r.e("754").then(r.bind(r,1169))),j=[{path:"/",element:(0,a.jsx)(x,{}),children:[{index:!0,element:(0,a.jsx)(w,{})},{path:"blog",element:(0,a.jsx)(()=>{let e=(0,n.Zp)();return(0,a.jsx)(b,{onClose:function(){e("/",{replace:!0})}})},{})},{path:"cg",element:(0,a.jsx)(()=>{(0,n.Zp)();let[e,t]=(0,l.useState)(null),[r,s]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"gird grid-cols-3 gap-8 justify-center",children:[{main:"/images/ev201a+pimg+2.png",expressions:[{name:"",image:"",position:{x:"",y:""},scale:1},{name:"恶心",image:"/images/ev201a+pimg+3.png",position:{x:"77.1%",y:"19.2%"},scale:.3}]},{main:"/images/ev208a+pimg+2.png",expressions:[{name:"",image:"",position:{x:"",y:""},scale:1},{name:"1",image:"/images/ev208a+pimg+3.png",position:{x:"51.08%",y:"53.12%"},scale:.402},{name:"2",image:"/images/ev208a+pimg+4.png",position:{x:"51.08%",y:"53.72%"},scale:.392},{name:"3",image:"/images/ev208a+pimg+5.png",position:{x:"51.08%",y:"52.42%"},scale:.4},{name:"4",image:"/images/ev208a+pimg+6.png",position:{x:"51.08%",y:"54.78%"},scale:.413}]},{main:"/images/ev215a+pimg+2.png",expressions:[{name:"1",image:"/images/ev215a+pimg+3.png",position:{x:"19.52%",y:"26.82%"},scale:.226}]}].map(e=>(0,a.jsx)("div",{className:"w-64",onClick:()=>{s(!0),t(e)},children:(0,a.jsx)("img",{src:e.main})}))}),(0,a.jsx)("div",{className:"relative w-auto",children:e&&(0,a.jsx)(y,{isOpen:r,onClose:()=>{s(!1),t(null)},backgroundImage:e.main,expressions:e.expressions,initialExpressionIndex:0,width:"1280px",height:"720px",onExpressionChange:(e,t)=>{console.log("切换到表情: ".concat(e,", 索引: ").concat(t))},showExpressionSelector:!0,clickToSwitch:!0})})]})},{})}]}],O=(0,n.Ys)(j)},9663:function(e,t,r){r.d(t,{j:()=>s});var n=r(3937),a=r(2025);let s=(0,n.v)()((0,a.Zr)((e,t)=>({collapsed:!1,bg:"",fontSize:"16",fontColor:"#fff",darkMode:!1,lang:"zh",token:"",refreshToken:"",setCollapsed:t=>e({collapsed:t}),setDarkMode:t=>e({darkMode:t}),setLang:t=>e({lang:t}),setToken:t=>e({token:t}),setRefreshToken:t=>e({refreshToken:t})}),{name:"config-storage"}))},8216:function(e,t,r){r.d(t,{s:()=>o});let n={api:{baseUrl:"http://localhost:3000",timeout:3e4,authHeader:"Authorization"},app:{name:"My React App",version:"1.0.0",environment:"development",debug:!0}};function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}let o=new class{async load(){if(!this.isLoaded)try{let e={};"undefined"!=typeof window&&(window.APP_CONFIG?e=window.APP_CONFIG:(await this.loadFromScript(),window.APP_CONFIG&&(e=window.APP_CONFIG))),this.config=this.deepMerge(this.config,e),console.log("[Config] 配置加载完成"),this.isLoaded=!0}catch(e){console.warn("[Config] 配置加载失败，使用默认配置:",e),this.isLoaded=!0}}loadFromScript(){return new Promise((e,t)=>{let r=document.createElement("script");r.src="/config.js",r.async=!0,r.onload=()=>{setTimeout(()=>{window.APP_CONFIG?e():t(Error("配置文件加载但未设置 APP_CONFIG"))},100)},r.onerror=t,setTimeout(()=>{this.isLoaded||t(Error("配置加载超时"))},5e3),document.head.appendChild(r)})}deepMerge(e,t){let r=s({},e);for(let n in t)null!==t[n]&&"object"==typeof t[n]?null!==e[n]&&"object"==typeof e[n]?r[n]=this.deepMerge(e[n],t[n]):r[n]=t[n]:void 0!==t[n]&&(r[n]=t[n]);return r}get(){return this.isLoaded||console.warn("[Config] 配置尚未加载，返回默认配置"),this.config}getFullUrl(e,t){let{baseUrl:r}=this.config.api,n=e;return(t&&Object.keys(t).forEach(e=>{n=n.replace(":".concat(e),String(t[e]))}),(n=n.replace(/\/:[^/]+/g,"")).startsWith("/"))?"".concat(r).concat(n):"".concat(r,"/").concat(n)}isReady(){return this.isLoaded}constructor(){a(this,"isLoaded",!1),a(this,"config",s({},n))}}},2887:function(e,t,r){e.exports={}},5550:function(e,t,r){e.exports={}}},b={};function y(e){var t=b[e];if(void 0!==t)return t.exports;var r=b[e]={id:e,loaded:!1,exports:{}};return v[e].call(r.exports,r,r.exports,y),r.loaded=!0,r.exports}y.m=v,t=(e="function"==typeof Symbol)?Symbol("webpack queues"):"__webpack_queues__",r=y.aE=e?Symbol("webpack exports"):"__webpack_exports__",n=e?Symbol("webpack error"):"__webpack_error__",a=e?Symbol("webpack done"):"__webpack_done__",s=y.zS=e?Symbol("webpack defer"):"__webpack_defer__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},y.a=(e,i,l)=>{l&&((c=[]).d=-1);var c,u,d,p,m=new Set,g=e.exports,h=new Promise((e,t)=>{p=t,d=e});h[r]=g,h[t]=e=>{c&&e(c),m.forEach(e),h.catch(function(){})},e.exports=h,i(e=>{u=e.map(e=>{if(null!==e&&"object"==typeof e){if(!e[t]&&e[s]){var i=e[s];if(!i.some(e=>{var t=b[e];return!t||!1===t[a]}))return e;var l=e;e={then(e){Promise.all(i.map(y)).then(()=>e(l))}}}if(e[t])return e;if(e.then){var c=[];c.d=0,e.then(e=>{u[r]=e,o(c)},e=>{u[n]=e,o(c)});var u={};return u[s]=!1,u[t]=e=>e(c),u}}var d={};return d[t]=function(){},d[r]=e,d});var i,l=()=>u.map(e=>{if(e[s])return e;if(e[n])throw e[n];return e[r]}),d=new Promise(e=>{(i=()=>e(l)).r=0;var r=e=>e!==c&&!m.has(e)&&(m.add(e),e&&!e.d&&(i.r++,e.push(i)));u.map(e=>e[s]||e[t](r))});return i.r?d:l()},e=>(e?p(h[n]=e):d(g),o(c),h[a]=!0)),c&&c.d<0&&(c.d=0)},y.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return y.d(t,{a:t}),t},l=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,y.t=function(e,t){if(1&t&&(e=this(e)),8&t||"object"==typeof e&&e&&(4&t&&e.__esModule||16&t&&"function"==typeof e.then))return e;var r=Object.create(null);y.r(r);var n={};i=i||[null,l({}),l([]),l(l)];for(var a=2&t&&e;("object"==typeof a||"function"==typeof a)&&!~i.indexOf(a);a=l(a))Object.getOwnPropertyNames(a).forEach(t=>{n[t]=()=>e[t]});return n.default=()=>e,y.d(r,n),r},y.d=(e,t)=>{for(var r in t)y.o(t,r)&&!y.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},y.f={},y.e=e=>Promise.all(Object.keys(y.f).reduce((t,r)=>(y.f[r](e,t),t),[])),y.k=e=>""+e+".bundle.css",y.u=e=>""+e+".bundle.js",y.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),y.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c={},y.l=function(e,t,r,n){if(c[e])return void c[e].push(t);if(void 0!==r)for(var a,s,o=document.getElementsByTagName("script"),i=0;i<o.length;i++){var l=o[i];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")=="rspack-project:"+r){a=l;break}}a||(s=!0,(a=document.createElement("script")).timeout=120,y.nc&&a.setAttribute("nonce",y.nc),a.setAttribute("data-webpack","rspack-project:"+r),a.src=e),c[e]=[t];var u=function(t,r){a.onerror=a.onload=null,clearTimeout(d);var n=c[e];if(delete c[e],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach(function(e){return e(r)}),t)return t(r)},d=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),s&&document.head.appendChild(a)},y.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},y.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),u=[],y.O=(e,t,r,n)=>{if(t){n=n||0;for(var a=u.length;a>0&&u[a-1][2]>n;a--)u[a]=u[a-1];u[a]=[t,r,n];return}for(var s=1/0,a=0;a<u.length;a++){for(var[t,r,n]=u[a],o=!0,i=0;i<t.length;i++)(!1&n||s>=n)&&Object.keys(y.O).every(e=>y.O[e](t[i]))?t.splice(i--,1):(o=!1,n<s&&(s=n));if(o){u.splice(a--,1);var l=r();void 0!==l&&(e=l)}}return e},y.p="/",y.rv=()=>"1.6.1",d={429:0,889:0},m="data-webpack-loading",(p=(e,t)=>{d[t]=0})(y.m,0,"889"),p(y.m,0,"429"),y.f.css=(e,t,r)=>{var n=y.o(d,e)?d[e]:void 0;if(0!==n)if(n)t.push(n[2]);else if(/^(429|578|889)$/.test(e)){var a=new Promise(function(t,r){n=d[e]=[t,r]});t.push(n[2]=a);var s=y.p+y.k(e),o=Error(),i=function(t){if(y.o(d,e)&&(0!==(n=d[e])&&(d[e]=void 0),n))if("load"!==t.type){var r=t&&t.type,a=t&&t.target&&t.target.src;o.message="Loading css chunk "+e+" failed.\n("+r+": "+a+")",o.name="ChunkLoadError",o.type=r,o.request=a,n[1](o)}else p(y.m,e),n[0]()};"undefined"!=typeof document?((e,t,r,n,a)=>{var s,o,i="chunk-"+e;if(!n){for(var l=document.getElementsByTagName("link"),c=0;c<l.length;c++){var u=l[c],d=u.getAttribute("href")||u.href;if(d&&!d.startsWith(y.p)&&(d=y.p+(d.startsWith("/")?d.slice(1):d)),"stylesheet"==u.rel&&(d&&d.startsWith(t)||u.getAttribute("data-webpack")=="rspack-project:"+i)){s=u;break}}if(!r)return}s||(o=!0,s=document.createElement("link"),y.nc&&s.setAttribute("nonce",y.nc),s.setAttribute("data-webpack","rspack-project:"+i),a&&s.setAttribute("fetchpriority",a),s.setAttribute(m,1),s.rel="stylesheet",s.href=t);var p=(e,t)=>{if(s.onerror=s.onload=null,s.removeAttribute(m),clearTimeout(g),t&&"load"!=t.type&&s.parentNode.removeChild(s),r(t),e)return e(t)};if(s.getAttribute(m)){var g=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload)}else p(void 0,{type:"load",target:s});return n&&n.getAttribute("fetchpriority")&&s.setAttribute("fetchpriority",n.getAttribute("fetchpriority")),n?document.head.insertBefore(s,n):o&&document.head.appendChild(s)})(e,s,i,void 0,r):i({type:"load"})}else d[e]=0},g={889:0},y.f.j=function(e,t){var r=y.o(g,e)?g[e]:void 0;if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((t,n)=>r=g[e]=[t,n]);t.push(r[2]=n);var a=y.p+y.u(e),s=Error();y.l(a,function(t){if(y.o(g,e)&&(0!==(r=g[e])&&(g[e]=void 0),r)){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",s.name="ChunkLoadError",s.type=n,s.request=a,r[1](s)}},"chunk-"+e,e)}},y.O.j=e=>0===g[e],h=(e,t)=>{var r,n,[a,s,o]=t,i=0;if(a.some(e=>0!==g[e])){for(r in s)y.o(s,r)&&(y.m[r]=s[r]);if(o)var l=o(y)}for(e&&e(t);i<a.length;i++)n=a[i],y.o(g,n)&&g[n]&&g[n][0](),g[n]=0;return y.O(l)},(f=self.webpackChunkrspack_project=self.webpackChunkrspack_project||[]).forEach(h.bind(null,0)),f.push=h.bind(null,f.push.bind(f)),y.ruid="bundler=rspack@1.6.1";var w=y.O(void 0,["429"],function(){return y(2931)});w=y.O(w)})();
//# sourceMappingURL=main.bundle.js.map